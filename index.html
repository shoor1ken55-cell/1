<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>дИИво</title>
    <meta name="description" content="Креативное агентство. Создаём. Впечатляем. Вдохновляем.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://diivo.fun/">
    <meta property="og:title" content="дИИво">
    <meta property="og:description" content="Креативное агентство. Создаём. Впечатляем. Вдохновляем.">
    <meta property="og:image" content="https://i.postimg.cc/rm4xktzp/image.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://diivo.fun/">
    <meta property="twitter:title" content="дИИво">
    <meta property="twitter:description" content="Креативное агентство. Создаём. Впечатляем. Вдохновляем.">
    <meta property="twitter:image" content="https://i.postimg.cc/rm4xktzp/image.png">
    
    <!-- Telegram -->
    <meta name="telegram:channel" content="@diivo_fun">

    <style>
        /* (CSS same as File B — unchanged for brevity) */
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo-container">
            <div class="logo"></div>
            <span class="brand-name">дИИво</span>
        </div>
        <nav>
            <a href="#pricing" class="nav-text">Цены</a>
            <a href="https://t.me/diivo_fun/" target="_blank" class="social-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"/>
                </svg>
            </a>
            <a href="https://vk.com/diivo_fun/" target="_blank" class="social-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M12.785 16.241s.288-.032.436-.194c.136-.148.132-.427.132-.427s-.02-1.304.576-1.496c.588-.19 1.341 1.26 2.14 1.818.605.422 1.064.33 1.064.33l2.137-.03s1.117-.071.587-.964c-.043-.073-.308-.661-1.588-1.87-1.34-1.264-1.16-1.059.453-3.246.983-1.332 1.376-2.145 1.253-2.493-.117-.332-.84-.244-.84-.244l-2.406.015s-.178-.025-.31.056c-.13.079-.212.262-.212.262s-.382 1.03-.89 1.907c-1.07 1.85-1.501 1.95-1.676 1.836-.407-.267-.305-1.075-.305-1.648 0-1.793.267-2.54-.521-2.733-.262-.065-.454-.107-1.123-.114-.858-.009-1.585.003-1.996.208-.274.136-.485.44-.356.457.159.022.519.099.71.364.246.342.237 1.113.237 1.113s.142 2.12-.33 2.384c-.326.182-.77-.19-1.725-1.865-.489-.857-.858-1.807-.858-1.807s-.07-.18-.198-.276c-.155-.118-.37-.155-.37-.155l-2.286.015s-.343.01-.469.162c-.112.135-.009.414-.009.414s1.792 4.266 3.817 6.413c1.858 1.97 3.968 1.84 3.968 1.84h.957z"/>
                </svg>
            </a>
            <a href="https://dzen.ru/diivo_fun" target="_blank" class="social-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M21.5 10.8v2.4l-8.5 8.3-8.5-8.3V10.8L12 2.5l9.5 8.3z"/>
                </svg>
            </a>
        </nav>
    </header>

    <!-- Video Section -->
    <section class="video-section">
        <div class="video-grid" id="videoGrid"></div>
        <div class="load-more">
            <button class="load-more-btn" id="loadMoreBtn">Загрузить ещё</button>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <!-- (same as File B) -->
    </section>

    <!-- Referral Section -->
    <section class="referral-section">
        <div class="referral-container">
            <div class="referral-card">
                <h2 class="referral-title">ПРИВЕДИ ДРУГА И ПОЛУЧИ 10% С ЕГО ОПЛАТЫ</h2>
                <p class="referral-subtitle">За подробностями обращайтесь на почту или в ЛС в соцсетях</p>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services-section">
        <!-- (same as File B) -->
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#privacy">Политика конфиденциальности</a>
                <a href="#terms">Пользовательское соглашение</a>
                <a href="mailto:info@diivo.fun">info@diivo.fun</a>
            </div>
            <p class="footer-text">© 2025 дИИво. Все права защищены.</p>
        </div>
    </footer>

    <script>
        const videos = [
            {id: '-232803295', vid: '456239027'},
            {id: '-232803295', vid: '456239028'},
            {id: '-232803295', vid: '456239029'},
            {id: '-232803295', vid: '456239030'},
            {id: '-232803295', vid: '456239031'},
            {id: '-232803295', vid: '456239032'},
            {id: '-232803295', vid: '456239033'},
            {id: '-232803295', vid: '456239034'},
            {id: '-232803295', vid: '456239043'},
            {id: '-232803295', vid: '456239044'},
            {id: '-232803295', vid: '456239045'},
            {id: '-232803295', vid: '456239046'},
            {id: '-232803295', vid: '456239035'},
            {id: '-232803295', vid: '456239036'},
            {id: '-232803295', vid: '456239037'},
            {id: '-232803295', vid: '456239038'},
            {id: '-232803295', vid: '456239039'},
            {id: '-232803295', vid: '456239040'},
            {id: '-232803295', vid: '456239041'},
            {id: '-232803295', vid: '456239042'}
        ];

        let videosLoaded = 0;
        const videosPerLoad = 4;
        const videoGrid = document.getElementById('videoGrid');
        const loadMoreBtn = document.getElementById('loadMoreBtn');

        function createVideoContainer(video, index) {
            const container = document.createElement('div');
            container.className = 'video-container';
            container.dataset.videoIndex = index;
            const thumbnail = document.createElement('div');
            thumbnail.className = 'video-thumbnail';
            container.appendChild(thumbnail);
            const loadingText = document.createElement('div');
            loadingText.className = 'loading-text';
            loadingText.textContent = 'Загрузка...';
            container.appendChild(loadingText);
            container.addEventListener('click', function() {
                loadVideo(container, video);
            });
            return container;
        }

        function loadVideo(container, video) {
            if (container.querySelector('iframe')) return;
            container.classList.add('loading');
            const iframe = document.createElement('iframe');
            iframe.src = `https://vk.com/video_ext.php?oid=${video.id}&id=${video.vid}&hd=2&autoplay=1&muted=1&loop=1`;
            iframe.allow = 'autoplay; encrypted-media; fullscreen; picture-in-picture;';
            iframe.allowFullscreen = true;
            iframe.onload = function() {
                container.classList.remove('loading');
                container.classList.add('loaded');
                const thumbnail = container.querySelector('.video-thumbnail');
                if (thumbnail) thumbnail.style.display = 'none';
            };
            container.appendChild(iframe);
        }

        function loadMoreVideos() {
            const start = videosLoaded;
            const end = Math.min(start + videosPerLoad, videos.length);
            for (let i = start; i < end; i++) {
                const container = createVideoContainer(videos[i], i);
                videoGrid.appendChild(container);
                if (i < 3) setTimeout(() => loadVideo(container, videos[i]), i * 500);
            }
            videosLoaded = end;
            if (videosLoaded >= videos.length) loadMoreBtn.style.display = 'none';
        }

        function setupIntersectionObserver() {
            const options = { root: null, rootMargin: '50px', threshold: 0.1 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const container = entry.target;
                        const index = parseInt(container.dataset.videoIndex);
                        if (!container.querySelector('iframe') && index < videos.length) {
                            setTimeout(() => loadVideo(container, videos[index]), 100);
                            observer.unobserve(container);
                        }
                    }
                });
            }, options);
            document.querySelectorAll('.video-container').forEach(container => observer.observe(container));
        }

        function init() {
            loadMoreVideos();
            setTimeout(setupIntersectionObserver, 100);
            loadMoreBtn.addEventListener('click', () => {
                loadMoreVideos();
                setTimeout(setupIntersectionObserver, 100);
            });
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    </script>
</body>
</html>
